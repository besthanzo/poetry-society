var l=(r,s,a)=>new Promise((i,n)=>{var p=e=>{try{t(a.next(e))}catch(o){n(o)}},c=e=>{try{t(a.throw(e))}catch(o){n(o)}},t=e=>e.done?i(e.value):Promise.resolve(e.value).then(p,c);t((a=a.apply(r,s)).next())});import{h,e as v,F as g}from"./vant-sfi2Yn3w.js";import{_ as V}from"./NavBar.vue_vue_type_script_setup_true_lang-DMSyMoyq.js";import{c as N}from"./index-DoEZVOET.js";import{D as y,r as S,a as C,e as I,Z as x,C as u,U as f,a1 as E,a2 as F,V as m,R as U,u as d}from"./@vue-BaFYB9fO.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./@vant-DZnNKhMV.js";import"./vue-router-iDotZJil.js";/* empty css                */import"./pinia-D_Wz3jyz.js";import"./vue-demi-Dq6ymT-8.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./nprogress-B-0O-kS_.js";import"./call-bind-CGOA-6zc.js";import"./get-intrinsic-B7liEDXy.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-C8ukm40J.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-B1GnuOzg.js";import"./define-data-property-DNqxx2Yh.js";import"./es-define-property-DI_ZD2M7.js";import"./gopd-BOOA1rSE.js";import"./has-property-descriptors-BFP8sGyy.js";import"./axios-OSLRg2hR.js";import"./qs-DqFOBWwE.js";import"./side-channel-CPreIACM.js";import"./object-inspect-BGaCtuTH.js";import"./lodash-es-CvKGffyy.js";import"./mockjs-2KGQUkcQ.js";import"./vite-plugin-mock-DfHHelG2.js";import"./path-to-regexp-D27XTR3m.js";const B=r=>(E("data-v-11a584e1"),r=r(),F(),r),P=B(()=>m("div",{class:"note p-6"},[m("p",null,"昵称支持2-12个中文字符或3-24个英文字符，"),m("p",null,"符号仅支持”-“和”_“和”.“以及“·”")],-1)),R=y({__name:"EditNickname",setup(r){const s=N(),{nickname:a}=s.getUserInfo,i=S(),n=C({nickname:""});function p(){return t=>l(this,null,function*(){return/^[\u4E00-\u9FA5A-Za-z0-9-_.·]+$/.test(t)?t.length<2||t.length>12?Promise.resolve("长度不符合"):Promise.resolve(!0):Promise.resolve("请输入正确内容")})}function c(){var t;(t=i.value)==null||t.validate().then(()=>l(this,null,function*(){var e;try{const o=(e=i.value)==null?void 0:e.getValues();v({message:`当前表单值：${JSON.stringify(o)}`})}finally{}})).catch(()=>{})}return I(()=>{n.nickname=a}),(t,e)=>{const o=g,_=h;return U(),x("div",null,[u(V,null,{right:f(()=>[m("span",{onClick:c},"保存")]),_:1}),u(_,{ref_key:"formRef",ref:i},{default:f(()=>[u(o,{modelValue:d(n).nickname,"onUpdate:modelValue":e[0]||(e[0]=k=>d(n).nickname=k),class:"mt-4",name:"nickname",placeholder:"请输入昵称（2-12字）",rules:[{validator:p(),trigger:"onChange"}]},null,8,["modelValue","rules"])]),_:1},512),P])}}}),fe=w(R,[["__scopeId","data-v-11a584e1"]]);export{fe as default};
