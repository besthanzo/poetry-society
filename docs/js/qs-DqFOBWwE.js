import{g as te}from"./call-bind-CGOA-6zc.js";import{s as ie}from"./side-channel-CPreIACM.js";var le=String.prototype.replace,oe=/%20/g,$={RFC1738:"RFC1738",RFC3986:"RFC3986"},_={default:$.RFC3986,formatters:{RFC1738:function(i){return le.call(i,oe,"+")},RFC3986:function(i){return String(i)}},RFC1738:$.RFC1738,RFC3986:$.RFC3986},fe=_,L=Object.prototype.hasOwnProperty,x=Array.isArray,b=function(){for(var i=[],e=0;e<256;++e)i.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return i}(),ue=function(e){for(;e.length>1;){var r=e.pop(),a=r.obj[r.prop];if(x(a)){for(var n=[],l=0;l<a.length;++l)typeof a[l]!="undefined"&&n.push(a[l]);r.obj[r.prop]=n}}},J=function(e,r){for(var a=r&&r.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]!="undefined"&&(a[n]=e[n]);return a},ce=function i(e,r,a){if(!r)return e;if(typeof r!="object"){if(x(e))e.push(r);else if(e&&typeof e=="object")(a&&(a.plainObjects||a.allowPrototypes)||!L.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var n=e;return x(e)&&!x(r)&&(n=J(e,a)),x(e)&&x(r)?(r.forEach(function(l,t){if(L.call(e,t)){var c=e[t];c&&typeof c=="object"&&l&&typeof l=="object"?e[t]=i(c,l,a):e.push(l)}else e[t]=l}),e):Object.keys(r).reduce(function(l,t){var c=r[t];return L.call(l,t)?l[t]=i(l[t],c,a):l[t]=c,l},n)},se=function(e,r){return Object.keys(r).reduce(function(a,n){return a[n]=r[n],a},e)},de=function(i,e,r){var a=i.replace(/\+/g," ");if(r==="iso-8859-1")return a.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(a)}catch(n){return a}},H=1024,ye=function(e,r,a,n,l){if(e.length===0)return e;var t=e;if(typeof e=="symbol"?t=Symbol.prototype.toString.call(e):typeof e!="string"&&(t=String(e)),a==="iso-8859-1")return escape(t).replace(/%u[0-9a-f]{4}/gi,function(v){return"%26%23"+parseInt(v.slice(2),16)+"%3B"});for(var c="",f=0;f<t.length;f+=H){for(var s=t.length>=H?t.slice(f,f+H):t,o=[],p=0;p<s.length;++p){var u=s.charCodeAt(p);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||l===fe.RFC1738&&(u===40||u===41)){o[o.length]=s.charAt(p);continue}if(u<128){o[o.length]=b[u];continue}if(u<2048){o[o.length]=b[192|u>>6]+b[128|u&63];continue}if(u<55296||u>=57344){o[o.length]=b[224|u>>12]+b[128|u>>6&63]+b[128|u&63];continue}p+=1,u=65536+((u&1023)<<10|s.charCodeAt(p)&1023),o[o.length]=b[240|u>>18]+b[128|u>>12&63]+b[128|u>>6&63]+b[128|u&63]}c+=o.join("")}return c},pe=function(e){for(var r=[{obj:{o:e},prop:"o"}],a=[],n=0;n<r.length;++n)for(var l=r[n],t=l.obj[l.prop],c=Object.keys(t),f=0;f<c.length;++f){var s=c[f],o=t[s];typeof o=="object"&&o!==null&&a.indexOf(o)===-1&&(r.push({obj:t,prop:s}),a.push(o))}return ue(r),e},me=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ve=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},he=function(e,r){return[].concat(e,r)},be=function(e,r){if(x(e)){for(var a=[],n=0;n<e.length;n+=1)a.push(r(e[n]));return a}return r(e)},X={arrayToObject:J,assign:se,combine:he,compact:pe,decode:de,encode:ye,isBuffer:ve,isRegExp:me,maybeMap:be,merge:ce},Y=ie,I=X,A=_,we=Object.prototype.hasOwnProperty,Z={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},w=Array.isArray,ge=Array.prototype.push,ee=function(i,e){ge.apply(i,w(e)?e:[e])},Ee=Date.prototype.toISOString,W=A.default,m={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:I.encode,encodeValuesOnly:!1,format:W,formatter:A.formatters[W],indices:!1,serializeDate:function(e){return Ee.call(e)},skipNulls:!1,strictNullHandling:!1},xe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},B={},Oe=function i(e,r,a,n,l,t,c,f,s,o,p,u,v,h,g,E,j,P){for(var d=e,F=P,N=0,M=!1;(F=F.get(B))!==void 0&&!M;){var V=F.get(e);if(N+=1,typeof V!="undefined"){if(V===N)throw new RangeError("Cyclic object value");M=!0}typeof F.get(B)=="undefined"&&(N=0)}if(typeof o=="function"?d=o(r,d):d instanceof Date?d=v(d):a==="comma"&&w(d)&&(d=I.maybeMap(d,function(Q){return Q instanceof Date?v(Q):Q})),d===null){if(t)return s&&!E?s(r,m.encoder,j,"key",h):r;d=""}if(xe(d)||I.isBuffer(d)){if(s){var ae=E?r:s(r,m.encoder,j,"key",h);return[g(ae)+"="+g(s(d,m.encoder,j,"value",h))]}return[g(r)+"="+g(String(d))]}var C=[];if(typeof d=="undefined")return C;var S;if(a==="comma"&&w(d))E&&s&&(d=I.maybeMap(d,s)),S=[{value:d.length>0?d.join(",")||null:void 0}];else if(w(o))S=o;else{var k=Object.keys(d);S=p?k.sort(p):k}var U=f?r.replace(/\./g,"%2E"):r,T=n&&w(d)&&d.length===1?U+"[]":U;if(l&&w(d)&&d.length===0)return T+"[]";for(var R=0;R<S.length;++R){var O=S[R],q=typeof O=="object"&&typeof O.value!="undefined"?O.value:d[O];if(!(c&&q===null)){var K=u&&f?O.replace(/\./g,"%2E"):O,ne=w(d)?typeof a=="function"?a(T,K):T:T+(u?"."+K:"["+K+"]");P.set(e,N);var G=Y();G.set(B,P),ee(C,i(q,ne,a,n,l,t,c,f,a==="comma"&&E&&w(d)?null:s,o,p,u,v,h,g,E,j,G))}}return C},De=function(e){if(!e)return m;if(typeof e.allowEmptyArrays!="undefined"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys!="undefined"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder!="undefined"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||m.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var a=A.default;if(typeof e.format!="undefined"){if(!we.call(A.formatters,e.format))throw new TypeError("Unknown format option provided.");a=e.format}var n=A.formatters[a],l=m.filter;(typeof e.filter=="function"||w(e.filter))&&(l=e.filter);var t;if(e.arrayFormat in Z?t=e.arrayFormat:"indices"in e?t=e.indices?"indices":"repeat":t=m.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=typeof e.allowDots=="undefined"?e.encodeDotInKeys===!0?!0:m.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:m.addQueryPrefix,allowDots:c,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:m.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:m.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter=="undefined"?m.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:m.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:m.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:m.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:m.encodeValuesOnly,filter:l,format:a,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:m.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:m.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:m.strictNullHandling}},Se=function(i,e){var r=i,a=De(e),n,l;typeof a.filter=="function"?(l=a.filter,r=l("",r)):w(a.filter)&&(l=a.filter,n=l);var t=[];if(typeof r!="object"||r===null)return"";var c=Z[a.arrayFormat],f=c==="comma"&&a.commaRoundTrip;n||(n=Object.keys(r)),a.sort&&n.sort(a.sort);for(var s=Y(),o=0;o<n.length;++o){var p=n[o];a.skipNulls&&r[p]===null||ee(t,Oe(r[p],p,c,f,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,s))}var u=t.join(a.delimiter),v=a.addQueryPrefix===!0?"?":"";return a.charsetSentinel&&(a.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),u.length>0?v+u:""},D=X,z=Object.prototype.hasOwnProperty,Ae=Array.isArray,y={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:D.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},je=function(i){return i.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},re=function(i,e){return i&&typeof i=="string"&&e.comma&&i.indexOf(",")>-1?i.split(","):i},Fe="utf8=%26%2310003%3B",Ne="utf8=%E2%9C%93",Te=function(e,r){var a={__proto__:null},n=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;n=n.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var l=r.parameterLimit===1/0?void 0:r.parameterLimit,t=n.split(r.delimiter,l),c=-1,f,s=r.charset;if(r.charsetSentinel)for(f=0;f<t.length;++f)t[f].indexOf("utf8=")===0&&(t[f]===Ne?s="utf-8":t[f]===Fe&&(s="iso-8859-1"),c=f,f=t.length);for(f=0;f<t.length;++f)if(f!==c){var o=t[f],p=o.indexOf("]="),u=p===-1?o.indexOf("="):p+1,v,h;u===-1?(v=r.decoder(o,y.decoder,s,"key"),h=r.strictNullHandling?null:""):(v=r.decoder(o.slice(0,u),y.decoder,s,"key"),h=D.maybeMap(re(o.slice(u+1),r),function(E){return r.decoder(E,y.decoder,s,"value")})),h&&r.interpretNumericEntities&&s==="iso-8859-1"&&(h=je(h)),o.indexOf("[]=")>-1&&(h=Ae(h)?[h]:h);var g=z.call(a,v);g&&r.duplicates==="combine"?a[v]=D.combine(a[v],h):(!g||r.duplicates==="last")&&(a[v]=h)}return a},Ie=function(i,e,r,a){for(var n=a?e:re(e,r),l=i.length-1;l>=0;--l){var t,c=i[l];if(c==="[]"&&r.parseArrays)t=r.allowEmptyArrays&&n===""?[]:[].concat(n);else{t=r.plainObjects?Object.create(null):{};var f=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,s=r.decodeDotInKeys?f.replace(/%2E/g,"."):f,o=parseInt(s,10);!r.parseArrays&&s===""?t={0:n}:!isNaN(o)&&c!==s&&String(o)===s&&o>=0&&r.parseArrays&&o<=r.arrayLimit?(t=[],t[o]=n):s!=="__proto__"&&(t[s]=n)}n=t}return n},Pe=function(e,r,a,n){if(e){var l=a.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,t=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,f=a.depth>0&&t.exec(l),s=f?l.slice(0,f.index):l,o=[];if(s){if(!a.plainObjects&&z.call(Object.prototype,s)&&!a.allowPrototypes)return;o.push(s)}for(var p=0;a.depth>0&&(f=c.exec(l))!==null&&p<a.depth;){if(p+=1,!a.plainObjects&&z.call(Object.prototype,f[1].slice(1,-1))&&!a.allowPrototypes)return;o.push(f[1])}return f&&o.push("["+l.slice(f.index)+"]"),Ie(o,r,a,n)}},Ce=function(e){if(!e)return y;if(typeof e.allowEmptyArrays!="undefined"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys!="undefined"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder!="undefined"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?y.charset:e.charset,a=typeof e.duplicates=="undefined"?y.duplicates:e.duplicates;if(a!=="combine"&&a!=="first"&&a!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var n=typeof e.allowDots=="undefined"?e.decodeDotInKeys===!0?!0:y.allowDots:!!e.allowDots;return{allowDots:n,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:y.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:y.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:y.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:y.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:y.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:y.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:y.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:y.decoder,delimiter:typeof e.delimiter=="string"||D.isRegExp(e.delimiter)?e.delimiter:y.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:y.depth,duplicates:a,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:y.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:y.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:y.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:y.strictNullHandling}},Re=function(i,e){var r=Ce(e);if(i===""||i===null||typeof i=="undefined")return r.plainObjects?Object.create(null):{};for(var a=typeof i=="string"?Te(i,r):i,n=r.plainObjects?Object.create(null):{},l=Object.keys(a),t=0;t<l.length;++t){var c=l[t],f=Pe(c,a[c],r,typeof i=="string");n=D.merge(n,f,r)}return r.allowSparse===!0?n:D.compact(n)},Ke=Se,Qe=Re,$e=_,Le={formats:$e,parse:Qe,stringify:Ke};const ze=te(Le);export{ze as q};
