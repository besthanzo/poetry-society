const i="jinrishici-token";function l(o,e){return window.localStorage&&window.localStorage.getItem(i)?a(o,e,window.localStorage.getItem(i)):r(o,e)}function r(o,e){return c(function(n){window.localStorage.setItem(i,n.token),o(n)},e,"https://v2.jinrishici.com/one.json?client=npm-sdk/1.0")}function a(o,e,t){return c(o,e,"https://v2.jinrishici.com/one.json?client=npm-sdk/1.0&X-User-Token="+encodeURIComponent(t))}function c(o,e,t){var n=new XMLHttpRequest;n.open("get",t),n.withCredentials=!0,n.send(),n.onreadystatechange=function(){if(n.readyState===4){var s=JSON.parse(n.responseText);s.status==="success"?o(s):e&&e(s)}}}export{l};
